<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ProTracker v1</title>
  <style>
    :root { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }
    body { margin: 0; background: #0b0c10; color: #e8e8e8; }
    header { padding: 14px; border-bottom: 1px solid #222; position: sticky; top: 0; background: #0b0c10; }
    h1 { font-size: 18px; margin: 0 0 6px; }
    .sub { font-size: 12px; opacity: 0.8; }
    main { padding: 12px 14px 80px; max-width: 980px; margin: 0 auto; }
    .card { background: #111319; border: 1px solid #222; border-radius: 12px; padding: 12px; margin: 12px 0; }
    .row { display: flex; flex-wrap: wrap; gap: 10px; align-items: end; }
    label { font-size: 12px; opacity: 0.85; display: block; margin-bottom: 4px; }
    input { width: 100%; box-sizing: border-box; padding: 10px; border-radius: 10px; border: 1px solid #2b2f3a; background: #0d0f14; color: #e8e8e8; }
    button { padding: 10px 12px; border-radius: 10px; border: 1px solid #2b2f3a; background: #1a1f2a; color: #e8e8e8; font-weight: 600; }
    .grow { flex: 1 1 180px; min-width: 160px; }
    .btns { display: flex; gap: 10px; flex-wrap: wrap; }
    .muted { opacity: 0.8; font-size: 12px; }
    .error { background: #2a1010; border: 1px solid #6a1f1f; color: #ffd1d1; padding: 10px; border-radius: 10px; margin-top: 10px; white-space: pre-wrap; }
    pre { white-space: pre-wrap; word-break: break-word; background: #0d0f14; border: 1px solid #2b2f3a; padding: 10px; border-radius: 10px; overflow: auto; }
    table { width: 100%; border-collapse: collapse; }
    th, td { border-bottom: 1px solid #222; padding: 8px 6px; text-align: left; font-size: 13px; }
    th { font-size: 12px; opacity: 0.9; }
    .pill { display:inline-block; padding: 2px 8px; border-radius: 999px; border: 1px solid #2b2f3a; font-size: 12px; }
    .tierA { border-color:#5a2; }
    .tierB { border-color:#aa2; }
    .tierC { border-color:#a55; }
  </style>
</head>
<body>
  <header>
    <h1>ProTracker v1</h1>
    <div class="sub">Same-origin UI + API • Relative fetch("/api/...") • JSON file DB</div>
  </header>

  <main>
    <div class="card">
      <div class="row">
        <div class="grow">
          <label for="dateInput">Date (defaults to activeDate)</label>
          <input id="dateInput" type="date" />
        </div>
        <div class="grow">
          <label for="minEdgeInput">minEdge</label>
          <input id="minEdgeInput" type="number" step="0.1" value="0" />
        </div>
        <div class="grow">
          <label for="gamesInput">gamesN (rolling)</label>
          <input id="gamesInput" type="number" step="1" value="10" min="1" max="30" />
        </div>
        <div class="btns">
          <button id="refreshBtn">Refresh</button>
          <button id="warmBtn">Warm Leaders</button>
        </div>
      </div>
      <div id="errorBox" class="error" style="display:none;"></div>
      <div class="muted" id="metaLine" style="margin-top:10px;"></div>
    </div>

    <div class="card">
      <h2 style="margin:0 0 10px; font-size:16px;">Quick Links</h2>
      <div id="quickLinks"></div>
    </div>

    <div class="card">
      <h2 style="margin:0 0 10px; font-size:16px;">Status</h2>
      <div id="status"></div>
    </div>

    <div class="card">
      <h2 style="margin:0 0 10px; font-size:16px;">Leaders (Top 25)</h2>
      <div id="leaders"></div>
    </div>

    <div class="card">
      <h2 style="margin:0 0 10px; font-size:16px;">Edges (Tiered)</h2>
      <div id="edges"></div>
    </div>

    <div class="card">
      <h2 style="margin:0 0 10px; font-size:16px;">SGO Props For Date</h2>
      <div id="sgoProps"></div>
    </div>
  </main>

  <script src="./app.js"></script>
</body>
</html>
<!-- ===========================
NEXT BLOCK: Colorful Light Theme (mobile-friendly)
Append-only. Paste at bottom of public/index.html
=========================== -->
<style>
  :root{
    --bg:#f6f8ff;
    --card:#ffffff;
    --text:#0f172a;
    --muted:#475569;
    --line:#e2e8f0;

    --primary:#4f46e5;   /* indigo */
    --accent:#06b6d4;    /* cyan */
    --good:#10b981;      /* green */
    --warn:#f59e0b;      /* amber */
    --bad:#ef4444;       /* red */
  }

  html,body{height:100%}
  body{
    margin:0;
    font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    background: radial-gradient(900px 500px at 20% 0%, rgba(79,70,229,.18), transparent 60%),
                radial-gradient(900px 500px at 90% 10%, rgba(6,182,212,.18), transparent 60%),
                var(--bg);
    color:var(--text);
  }

  /* Make everything feel centered + roomy */
  header, main{
    max-width: 980px;
    margin: 0 auto;
    padding: 14px;
  }

  /* Header glow bar */
  header{
    position: sticky;
    top: 0;
    z-index: 20;
    backdrop-filter: blur(10px);
    background: rgba(246,248,255,.78);
    border-bottom: 1px solid rgba(226,232,240,.8);
  }

  /* Title style (works even if your HTML uses h1) */
  h1,h2,h3{margin:0 0 10px 0}
  h1{
    font-size: 20px;
    letter-spacing: .2px;
    display:flex;
    align-items:center;
    gap:10px;
  }
  h1::before{
    content:"";
    width:12px;height:12px;border-radius:50%;
    background: linear-gradient(135deg, var(--primary), var(--accent));
    box-shadow: 0 0 0 6px rgba(79,70,229,.12);
  }

  /* Card sections */
  section{
    background: var(--card);
    border: 1px solid var(--line);
    border-radius: 16px;
    padding: 12px;
    margin: 12px 0;
    box-shadow: 0 10px 24px rgba(15,23,42,.06);
  }

  .muted{
    color: var(--muted);
    font-size: 13px;
  }

  /* Controls row (your existing inputs/buttons) */
  .controls, #controls, .toolbar{
    display:flex;
    flex-wrap: wrap;
    gap:10px;
    align-items:center;
  }

  input, select{
    width: 100%;
    max-width: 240px;
    padding: 10px 12px;
    font-size: 16px;
    border-radius: 12px;
    border: 1px solid var(--line);
    outline: none;
    background: #fff;
  }
  input:focus, select:focus{
    border-color: rgba(79,70,229,.55);
    box-shadow: 0 0 0 4px rgba(79,70,229,.14);
  }

  button{
    padding: 10px 12px;
    font-size: 16px;
    border-radius: 12px;
    border: 1px solid rgba(79,70,229,.25);
    background: linear-gradient(135deg, rgba(79,70,229,.12), rgba(6,182,212,.10));
    color: var(--text);
    font-weight: 650;
  }
  button:active{transform: translateY(1px)}
  button:hover{
    border-color: rgba(79,70,229,.45);
    box-shadow: 0 10px 18px rgba(79,70,229,.10);
  }

  /* Error box prettier */
  #errorBox{
    display:none;
    background: rgba(239,68,68,.10);
    border: 1px solid rgba(239,68,68,.30);
    color: #7f1d1d;
    padding: 10px 12px;
    border-radius: 12px;
    white-space: pre-wrap;
    margin-top: 10px;
  }

  /* Table default styling (applies to leaders + edges tables) */
  table{
    width:100%;
    border-collapse: collapse;
    margin-top: 8px;
    font-size: 14px;
  }
  th, td{
    border-bottom: 1px solid var(--line);
    padding: 8px;
    text-align:left;
    vertical-align: top;
  }
  thead th{
    position: sticky;
    top: 68px; /* below sticky header */
    background: rgba(255,255,255,.92);
    backdrop-filter: blur(8px);
    z-index: 5;
  }

  /* Code/pre blocks nicer */
  pre{
    background: #0b1220;
    color: #e5e7eb;
    border-radius: 14px;
    padding: 10px 12px;
    overflow:auto;
    font-size: 12px;
    line-height: 1.35;
  }

  /* Make big sections readable on phone */
  @media (max-width: 560px){
    header, main{padding: 10px}
    section{padding: 10px;border-radius: 14px}
    input, select{max-width: 100%}
    button{width: 100%}
    thead th{top: 92px}
  }
</style>
<script>
  // Small helper: add a "controls" wrapper style automatically if you didn't have one
  window.addEventListener("load", () => {
    const date = document.getElementById("dateInput");
    const minEdge = document.getElementById("minEdgeInput");
    const games = document.getElementById("gamesInput");
    const refresh = document.getElementById("refreshBtn");
    const warm = document.getElementById("warmBtn");

    // If these exist, put them in a nice toolbar area under header
    if (date && (refresh || warm)) {
      const bar = document.createElement("div");
      bar.className = "controls";
      bar.style.marginTop = "10px";

      // Add labels (small)
      function wrapL(label, node){
        const w = document.createElement("div");
        w.style.display = "flex";
        w.style.flexDirection = "column";
        w.style.gap = "6px";
        const l = document.createElement("div");
        l.className = "muted";
        l.textContent = label;
        w.appendChild(l);
        w.appendChild(node);
        return w;
      }

      const holder = document.createElement("section");
      holder.style.marginTop = "10px";
      holder.style.borderRadius = "18px";

      const row = document.createElement("div");
      row.className = "controls";

      row.appendChild(wrapL("Date", date));
      if (minEdge) row.appendChild(wrapL("Min Edge", minEdge));
      if (games) row.appendChild(wrapL("Games N", games));

      if (refresh) row.appendChild(refresh);
      if (warm) row.appendChild(warm);

      holder.appendChild(row);

      // Put it inside header so it stays sticky
      document.querySelector("header")?.appendChild(holder);
    }
  });
</script>

